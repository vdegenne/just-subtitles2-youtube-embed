async function e(e,t=0,o=500){return new Promise(((n,r)=>{const c=Date.now();let i=0;const l=()=>{const a=document.querySelector(e);return a?n(a):t>0&&(i=Date.now()-c,i>=t)?r(`The element couldn't be found after ${t}ms of trying.`):void setTimeout(l,o)};l()}))}function t(e){if(navigator.clipboard)return navigator.clipboard.writeText(e).catch((function(e){throw void 0!==e?e:new DOMException("The request is not allowed","NotAllowedError")}));var t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre",document.body.appendChild(t);var o=window.getSelection(),n=window.document.createRange();o.removeAllRanges(),n.selectNode(t),o.addRange(n);var r=!1;try{r=window.document.execCommand("copy")}catch(e){console.log("error",e)}return o.removeAllRanges(),window.document.body.removeChild(t),r?Promise.resolve():Promise.reject(new DOMException("The request is not allowed","NotAllowedError"))}try{const o=document.body.querySelector(".ytp-right-controls"),n=document.createElement("button");n.classList.add("ytp-button"),n.innerHTML='<svg class="ytp-subtitles-button-icon" height="100%" viewBox="0 0 24 24" width="100%" fill="#FFFFFF"><path id="Layer" fill-rule="evenodd" class="s1" d="m14.6 5.8h-8.2v9.6h-1.4v-9.6c0-0.7 0.6-1.3 1.4-1.3h8.2zm-6.9 3.3c0-1.1 0.9-2 2-2h6.3c1.1 0 2 0.9 2 2v8.4c0 1.1-0.9 2-2 2h-6.3c-1.1 0-2-0.9-2-2zm1.4 8.9h7.5v-9.6h-7.5z"/></svg>';let r,c=!1;function i(){clearTimeout(r),r=void 0}n.addEventListener("pointerdown",(()=>{c=!0,r=setTimeout((()=>{c&&(!function(){const e=[...document.body.querySelectorAll(".caption-visual-line")];e.length>0&&t(e.map((e=>e.textContent.trim())).join("\n"))}(),c=!1,i())}),1e3)})),n.addEventListener("pointerup",(()=>{r&&(i(),function(){const e=[...document.body.querySelectorAll(".caption-visual-line")];e.length>0&&t(e.pop().textContent.trim())}()),c=!1})),n.addEventListener("mouseleave",(()=>{c=!1,i()})),o?.prepend(n)}catch(l){}(async()=>{try{(await e('[aria-label="Hide more videos"]',1e4)).click();(await e(".ytp-pause-overlay",1e4)).remove()}catch(e){}})();
